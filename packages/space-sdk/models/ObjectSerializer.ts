export * from '../models/AcceptContract200Response';
export * from '../models/AcceptContract200ResponseData';
export * from '../models/Agent';
export * from '../models/Chart';
export * from '../models/ConnectedSystem';
export * from '../models/Contract';
export * from '../models/ContractDeliverGood';
export * from '../models/ContractPayment';
export * from '../models/ContractTerms';
export * from '../models/Cooldown';
export * from '../models/CreateChart201Response';
export * from '../models/CreateChart201ResponseData';
export * from '../models/CreateShipShipScan201Response';
export * from '../models/CreateShipShipScan201ResponseData';
export * from '../models/CreateShipSystemScan201Response';
export * from '../models/CreateShipSystemScan201ResponseData';
export * from '../models/CreateShipWaypointScan201Response';
export * from '../models/CreateShipWaypointScan201ResponseData';
export * from '../models/CreateSurvey201Response';
export * from '../models/CreateSurvey201ResponseData';
export * from '../models/DeliverContract200Response';
export * from '../models/DeliverContract200ResponseData';
export * from '../models/DeliverContractRequest';
export * from '../models/DockShip200Response';
export * from '../models/ExtractResources201Response';
export * from '../models/ExtractResources201ResponseData';
export * from '../models/ExtractResourcesRequest';
export * from '../models/Extraction';
export * from '../models/ExtractionYield';
export * from '../models/Faction';
export * from '../models/FactionTrait';
export * from '../models/FulfillContract200Response';
export * from '../models/GetContract200Response';
export * from '../models/GetContracts200Response';
export * from '../models/GetFaction200Response';
export * from '../models/GetFactions200Response';
export * from '../models/GetJumpGate200Response';
export * from '../models/GetMarket200Response';
export * from '../models/GetMyAgent200Response';
export * from '../models/GetMyShip200Response';
export * from '../models/GetMyShipCargo200Response';
export * from '../models/GetMyShips200Response';
export * from '../models/GetShipCooldown200Response';
export * from '../models/GetShipNav200Response';
export * from '../models/GetShipyard200Response';
export * from '../models/GetSystem200Response';
export * from '../models/GetSystemWaypoints200Response';
export * from '../models/GetSystems200Response';
export * from '../models/GetWaypoint200Response';
export * from '../models/Jettison200Response';
export * from '../models/Jettison200ResponseData';
export * from '../models/JettisonRequest';
export * from '../models/JumpGate';
export * from '../models/JumpShip200Response';
export * from '../models/JumpShip200ResponseData';
export * from '../models/JumpShipRequest';
export * from '../models/Market';
export * from '../models/MarketTradeGood';
export * from '../models/MarketTransaction';
export * from '../models/Meta';
export * from '../models/NavigateShip200Response';
export * from '../models/NavigateShip200ResponseData';
export * from '../models/NavigateShipRequest';
export * from '../models/OrbitShip200Response';
export * from '../models/OrbitShip200ResponseData';
export * from '../models/PatchShipNavRequest';
export * from '../models/PurchaseCargo201Response';
export * from '../models/PurchaseCargoRequest';
export * from '../models/PurchaseShip201Response';
export * from '../models/PurchaseShip201ResponseData';
export * from '../models/PurchaseShipRequest';
export * from '../models/RefuelShip200Response';
export * from '../models/RefuelShip200ResponseData';
export * from '../models/Register201Response';
export * from '../models/Register201ResponseData';
export * from '../models/RegisterRequest';
export * from '../models/ScannedShip';
export * from '../models/ScannedShipEngine';
export * from '../models/ScannedShipFrame';
export * from '../models/ScannedShipMountsInner';
export * from '../models/ScannedShipReactor';
export * from '../models/ScannedSystem';
export * from '../models/ScannedWaypoint';
export * from '../models/SellCargo201Response';
export * from '../models/SellCargo201ResponseData';
export * from '../models/SellCargoRequest';
export * from '../models/Ship';
export * from '../models/ShipCargo';
export * from '../models/ShipCargoItem';
export * from '../models/ShipCrew';
export * from '../models/ShipEngine';
export * from '../models/ShipFrame';
export * from '../models/ShipFuel';
export * from '../models/ShipFuelConsumed';
export * from '../models/ShipModule';
export * from '../models/ShipMount';
export * from '../models/ShipNav';
export * from '../models/ShipNavFlightMode';
export * from '../models/ShipNavRoute';
export * from '../models/ShipNavRouteWaypoint';
export * from '../models/ShipNavStatus';
export * from '../models/ShipReactor';
export * from '../models/ShipRefine200Response';
export * from '../models/ShipRefine200ResponseData';
export * from '../models/ShipRefine200ResponseDataProducedInner';
export * from '../models/ShipRefineRequest';
export * from '../models/ShipRegistration';
export * from '../models/ShipRequirements';
export * from '../models/ShipRole';
export * from '../models/ShipType';
export * from '../models/Shipyard';
export * from '../models/ShipyardShip';
export * from '../models/ShipyardShipTypesInner';
export * from '../models/ShipyardTransaction';
export * from '../models/Survey';
export * from '../models/SurveyDeposit';
export * from '../models/System';
export * from '../models/SystemFaction';
export * from '../models/SystemType';
export * from '../models/SystemWaypoint';
export * from '../models/TradeGood';
export * from '../models/TradeSymbol';
export * from '../models/TransferCargo200Response';
export * from '../models/TransferCargoRequest';
export * from '../models/Waypoint';
export * from '../models/WaypointFaction';
export * from '../models/WaypointOrbital';
export * from '../models/WaypointTrait';
export * from '../models/WaypointType';

import { AcceptContract200Response } from '../models/AcceptContract200Response';
import { AcceptContract200ResponseData } from '../models/AcceptContract200ResponseData';
import { Agent } from '../models/Agent';
import { Chart } from '../models/Chart';
import { ConnectedSystem        } from '../models/ConnectedSystem';
import { Contract  , ContractTypeEnum       } from '../models/Contract';
import { ContractDeliverGood } from '../models/ContractDeliverGood';
import { ContractPayment } from '../models/ContractPayment';
import { ContractTerms } from '../models/ContractTerms';
import { Cooldown } from '../models/Cooldown';
import { CreateChart201Response } from '../models/CreateChart201Response';
import { CreateChart201ResponseData } from '../models/CreateChart201ResponseData';
import { CreateShipShipScan201Response } from '../models/CreateShipShipScan201Response';
import { CreateShipShipScan201ResponseData } from '../models/CreateShipShipScan201ResponseData';
import { CreateShipSystemScan201Response } from '../models/CreateShipSystemScan201Response';
import { CreateShipSystemScan201ResponseData } from '../models/CreateShipSystemScan201ResponseData';
import { CreateShipWaypointScan201Response } from '../models/CreateShipWaypointScan201Response';
import { CreateShipWaypointScan201ResponseData } from '../models/CreateShipWaypointScan201ResponseData';
import { CreateSurvey201Response } from '../models/CreateSurvey201Response';
import { CreateSurvey201ResponseData } from '../models/CreateSurvey201ResponseData';
import { DeliverContract200Response } from '../models/DeliverContract200Response';
import { DeliverContract200ResponseData } from '../models/DeliverContract200ResponseData';
import { DeliverContractRequest } from '../models/DeliverContractRequest';
import { DockShip200Response } from '../models/DockShip200Response';
import { ExtractResources201Response } from '../models/ExtractResources201Response';
import { ExtractResources201ResponseData } from '../models/ExtractResources201ResponseData';
import { ExtractResourcesRequest } from '../models/ExtractResourcesRequest';
import { Extraction } from '../models/Extraction';
import { ExtractionYield } from '../models/ExtractionYield';
import { Faction } from '../models/Faction';
import { FactionTrait, FactionTraitSymbolEnum     } from '../models/FactionTrait';
import { FulfillContract200Response } from '../models/FulfillContract200Response';
import { GetContract200Response } from '../models/GetContract200Response';
import { GetContracts200Response } from '../models/GetContracts200Response';
import { GetFaction200Response } from '../models/GetFaction200Response';
import { GetFactions200Response } from '../models/GetFactions200Response';
import { GetJumpGate200Response } from '../models/GetJumpGate200Response';
import { GetMarket200Response } from '../models/GetMarket200Response';
import { GetMyAgent200Response } from '../models/GetMyAgent200Response';
import { GetMyShip200Response } from '../models/GetMyShip200Response';
import { GetMyShipCargo200Response } from '../models/GetMyShipCargo200Response';
import { GetMyShips200Response } from '../models/GetMyShips200Response';
import { GetShipCooldown200Response } from '../models/GetShipCooldown200Response';
import { GetShipNav200Response } from '../models/GetShipNav200Response';
import { GetShipyard200Response } from '../models/GetShipyard200Response';
import { GetSystem200Response } from '../models/GetSystem200Response';
import { GetSystemWaypoints200Response } from '../models/GetSystemWaypoints200Response';
import { GetSystems200Response } from '../models/GetSystems200Response';
import { GetWaypoint200Response } from '../models/GetWaypoint200Response';
import { Jettison200Response } from '../models/Jettison200Response';
import { Jettison200ResponseData } from '../models/Jettison200ResponseData';
import { JettisonRequest } from '../models/JettisonRequest';
import { JumpGate } from '../models/JumpGate';
import { JumpShip200Response } from '../models/JumpShip200Response';
import { JumpShip200ResponseData } from '../models/JumpShip200ResponseData';
import { JumpShipRequest } from '../models/JumpShipRequest';
import { Market } from '../models/Market';
import { MarketTradeGood  , MarketTradeGoodSupplyEnum     } from '../models/MarketTradeGood';
import { MarketTransaction   , MarketTransactionTypeEnum       } from '../models/MarketTransaction';
import { Meta } from '../models/Meta';
import { NavigateShip200Response } from '../models/NavigateShip200Response';
import { NavigateShip200ResponseData } from '../models/NavigateShip200ResponseData';
import { NavigateShipRequest } from '../models/NavigateShipRequest';
import { OrbitShip200Response } from '../models/OrbitShip200Response';
import { OrbitShip200ResponseData } from '../models/OrbitShip200ResponseData';
import { PatchShipNavRequest  } from '../models/PatchShipNavRequest';
import { PurchaseCargo201Response } from '../models/PurchaseCargo201Response';
import { PurchaseCargoRequest } from '../models/PurchaseCargoRequest';
import { PurchaseShip201Response } from '../models/PurchaseShip201Response';
import { PurchaseShip201ResponseData } from '../models/PurchaseShip201ResponseData';
import { PurchaseShipRequest   } from '../models/PurchaseShipRequest';
import { RefuelShip200Response } from '../models/RefuelShip200Response';
import { RefuelShip200ResponseData } from '../models/RefuelShip200ResponseData';
import { Register201Response } from '../models/Register201Response';
import { Register201ResponseData } from '../models/Register201ResponseData';
import { RegisterRequest, RegisterRequestFactionEnum    } from '../models/RegisterRequest';
import { ScannedShip } from '../models/ScannedShip';
import { ScannedShipEngine } from '../models/ScannedShipEngine';
import { ScannedShipFrame } from '../models/ScannedShipFrame';
import { ScannedShipMountsInner } from '../models/ScannedShipMountsInner';
import { ScannedShipReactor } from '../models/ScannedShipReactor';
import { ScannedSystem       } from '../models/ScannedSystem';
import { ScannedWaypoint          } from '../models/ScannedWaypoint';
import { SellCargo201Response } from '../models/SellCargo201Response';
import { SellCargo201ResponseData } from '../models/SellCargo201ResponseData';
import { SellCargoRequest } from '../models/SellCargoRequest';
import { Ship } from '../models/Ship';
import { ShipCargo } from '../models/ShipCargo';
import { ShipCargoItem } from '../models/ShipCargoItem';
import { ShipCrew   , ShipCrewRotationEnum     } from '../models/ShipCrew';
import { ShipEngine, ShipEngineSymbolEnum        } from '../models/ShipEngine';
import { ShipFrame, ShipFrameSymbolEnum          } from '../models/ShipFrame';
import { ShipFuel } from '../models/ShipFuel';
import { ShipFuelConsumed } from '../models/ShipFuelConsumed';
import { ShipModule, ShipModuleSymbolEnum        } from '../models/ShipModule';
import { ShipMount, ShipMountSymbolEnum     , ShipMountDepositsEnum    } from '../models/ShipMount';
import { ShipNav      } from '../models/ShipNav';
import { ShipNavFlightMode } from '../models/ShipNavFlightMode';
import { ShipNavRoute } from '../models/ShipNavRoute';
import { ShipNavRouteWaypoint      } from '../models/ShipNavRouteWaypoint';
import { ShipNavStatus } from '../models/ShipNavStatus';
import { ShipReactor, ShipReactorSymbolEnum        } from '../models/ShipReactor';
import { ShipRefine200Response } from '../models/ShipRefine200Response';
import { ShipRefine200ResponseData } from '../models/ShipRefine200ResponseData';
import { ShipRefine200ResponseDataProducedInner } from '../models/ShipRefine200ResponseDataProducedInner';
import { ShipRefineRequest, ShipRefineRequestProduceEnum   } from '../models/ShipRefineRequest';
import { ShipRegistration    } from '../models/ShipRegistration';
import { ShipRequirements } from '../models/ShipRequirements';
import { ShipRole } from '../models/ShipRole';
import { ShipType } from '../models/ShipType';
import { Shipyard } from '../models/Shipyard';
import { ShipyardShip          } from '../models/ShipyardShip';
import { ShipyardShipTypesInner  } from '../models/ShipyardShipTypesInner';
import { ShipyardTransaction } from '../models/ShipyardTransaction';
import { Survey    , SurveySizeEnum   } from '../models/Survey';
import { SurveyDeposit } from '../models/SurveyDeposit';
import { System        } from '../models/System';
import { SystemFaction } from '../models/SystemFaction';
import { SystemType } from '../models/SystemType';
import { SystemWaypoint     } from '../models/SystemWaypoint';
import { TradeGood    } from '../models/TradeGood';
import { TradeSymbol } from '../models/TradeSymbol';
import { TransferCargo200Response } from '../models/TransferCargo200Response';
import { TransferCargoRequest } from '../models/TransferCargoRequest';
import { Waypoint          } from '../models/Waypoint';
import { WaypointFaction } from '../models/WaypointFaction';
import { WaypointOrbital } from '../models/WaypointOrbital';
import { WaypointTrait, WaypointTraitSymbolEnum     } from '../models/WaypointTrait';
import { WaypointType } from '../models/WaypointType';

/* tslint:disable:no-unused-variable */
let primitives = [
                    "string",
                    "boolean",
                    "double",
                    "integer",
                    "long",
                    "float",
                    "number",
                    "any"
                 ];

const supportedMediaTypes: { [mediaType: string]: number } = {
  "application/json": Infinity,
  "application/octet-stream": 0,
  "application/x-www-form-urlencoded": 0
}


let enumsMap: Set<string> = new Set<string>([
    "ContractTypeEnum",
    "FactionTraitSymbolEnum",
    "MarketTradeGoodSupplyEnum",
    "MarketTransactionTypeEnum",
    "RegisterRequestFactionEnum",
    "ShipCrewRotationEnum",
    "ShipEngineSymbolEnum",
    "ShipFrameSymbolEnum",
    "ShipModuleSymbolEnum",
    "ShipMountSymbolEnum",
    "ShipMountDepositsEnum",
    "ShipNavFlightMode",
    "ShipNavStatus",
    "ShipReactorSymbolEnum",
    "ShipRefineRequestProduceEnum",
    "ShipRole",
    "ShipType",
    "SurveySizeEnum",
    "SystemType",
    "TradeSymbol",
    "WaypointTraitSymbolEnum",
    "WaypointType",
]);

let typeMap: {[index: string]: any} = {
    "AcceptContract200Response": AcceptContract200Response,
    "AcceptContract200ResponseData": AcceptContract200ResponseData,
    "Agent": Agent,
    "Chart": Chart,
    "ConnectedSystem": ConnectedSystem,
    "Contract": Contract,
    "ContractDeliverGood": ContractDeliverGood,
    "ContractPayment": ContractPayment,
    "ContractTerms": ContractTerms,
    "Cooldown": Cooldown,
    "CreateChart201Response": CreateChart201Response,
    "CreateChart201ResponseData": CreateChart201ResponseData,
    "CreateShipShipScan201Response": CreateShipShipScan201Response,
    "CreateShipShipScan201ResponseData": CreateShipShipScan201ResponseData,
    "CreateShipSystemScan201Response": CreateShipSystemScan201Response,
    "CreateShipSystemScan201ResponseData": CreateShipSystemScan201ResponseData,
    "CreateShipWaypointScan201Response": CreateShipWaypointScan201Response,
    "CreateShipWaypointScan201ResponseData": CreateShipWaypointScan201ResponseData,
    "CreateSurvey201Response": CreateSurvey201Response,
    "CreateSurvey201ResponseData": CreateSurvey201ResponseData,
    "DeliverContract200Response": DeliverContract200Response,
    "DeliverContract200ResponseData": DeliverContract200ResponseData,
    "DeliverContractRequest": DeliverContractRequest,
    "DockShip200Response": DockShip200Response,
    "ExtractResources201Response": ExtractResources201Response,
    "ExtractResources201ResponseData": ExtractResources201ResponseData,
    "ExtractResourcesRequest": ExtractResourcesRequest,
    "Extraction": Extraction,
    "ExtractionYield": ExtractionYield,
    "Faction": Faction,
    "FactionTrait": FactionTrait,
    "FulfillContract200Response": FulfillContract200Response,
    "GetContract200Response": GetContract200Response,
    "GetContracts200Response": GetContracts200Response,
    "GetFaction200Response": GetFaction200Response,
    "GetFactions200Response": GetFactions200Response,
    "GetJumpGate200Response": GetJumpGate200Response,
    "GetMarket200Response": GetMarket200Response,
    "GetMyAgent200Response": GetMyAgent200Response,
    "GetMyShip200Response": GetMyShip200Response,
    "GetMyShipCargo200Response": GetMyShipCargo200Response,
    "GetMyShips200Response": GetMyShips200Response,
    "GetShipCooldown200Response": GetShipCooldown200Response,
    "GetShipNav200Response": GetShipNav200Response,
    "GetShipyard200Response": GetShipyard200Response,
    "GetSystem200Response": GetSystem200Response,
    "GetSystemWaypoints200Response": GetSystemWaypoints200Response,
    "GetSystems200Response": GetSystems200Response,
    "GetWaypoint200Response": GetWaypoint200Response,
    "Jettison200Response": Jettison200Response,
    "Jettison200ResponseData": Jettison200ResponseData,
    "JettisonRequest": JettisonRequest,
    "JumpGate": JumpGate,
    "JumpShip200Response": JumpShip200Response,
    "JumpShip200ResponseData": JumpShip200ResponseData,
    "JumpShipRequest": JumpShipRequest,
    "Market": Market,
    "MarketTradeGood": MarketTradeGood,
    "MarketTransaction": MarketTransaction,
    "Meta": Meta,
    "NavigateShip200Response": NavigateShip200Response,
    "NavigateShip200ResponseData": NavigateShip200ResponseData,
    "NavigateShipRequest": NavigateShipRequest,
    "OrbitShip200Response": OrbitShip200Response,
    "OrbitShip200ResponseData": OrbitShip200ResponseData,
    "PatchShipNavRequest": PatchShipNavRequest,
    "PurchaseCargo201Response": PurchaseCargo201Response,
    "PurchaseCargoRequest": PurchaseCargoRequest,
    "PurchaseShip201Response": PurchaseShip201Response,
    "PurchaseShip201ResponseData": PurchaseShip201ResponseData,
    "PurchaseShipRequest": PurchaseShipRequest,
    "RefuelShip200Response": RefuelShip200Response,
    "RefuelShip200ResponseData": RefuelShip200ResponseData,
    "Register201Response": Register201Response,
    "Register201ResponseData": Register201ResponseData,
    "RegisterRequest": RegisterRequest,
    "ScannedShip": ScannedShip,
    "ScannedShipEngine": ScannedShipEngine,
    "ScannedShipFrame": ScannedShipFrame,
    "ScannedShipMountsInner": ScannedShipMountsInner,
    "ScannedShipReactor": ScannedShipReactor,
    "ScannedSystem": ScannedSystem,
    "ScannedWaypoint": ScannedWaypoint,
    "SellCargo201Response": SellCargo201Response,
    "SellCargo201ResponseData": SellCargo201ResponseData,
    "SellCargoRequest": SellCargoRequest,
    "Ship": Ship,
    "ShipCargo": ShipCargo,
    "ShipCargoItem": ShipCargoItem,
    "ShipCrew": ShipCrew,
    "ShipEngine": ShipEngine,
    "ShipFrame": ShipFrame,
    "ShipFuel": ShipFuel,
    "ShipFuelConsumed": ShipFuelConsumed,
    "ShipModule": ShipModule,
    "ShipMount": ShipMount,
    "ShipNav": ShipNav,
    "ShipNavRoute": ShipNavRoute,
    "ShipNavRouteWaypoint": ShipNavRouteWaypoint,
    "ShipReactor": ShipReactor,
    "ShipRefine200Response": ShipRefine200Response,
    "ShipRefine200ResponseData": ShipRefine200ResponseData,
    "ShipRefine200ResponseDataProducedInner": ShipRefine200ResponseDataProducedInner,
    "ShipRefineRequest": ShipRefineRequest,
    "ShipRegistration": ShipRegistration,
    "ShipRequirements": ShipRequirements,
    "Shipyard": Shipyard,
    "ShipyardShip": ShipyardShip,
    "ShipyardShipTypesInner": ShipyardShipTypesInner,
    "ShipyardTransaction": ShipyardTransaction,
    "Survey": Survey,
    "SurveyDeposit": SurveyDeposit,
    "System": System,
    "SystemFaction": SystemFaction,
    "SystemWaypoint": SystemWaypoint,
    "TradeGood": TradeGood,
    "TransferCargo200Response": TransferCargo200Response,
    "TransferCargoRequest": TransferCargoRequest,
    "Waypoint": Waypoint,
    "WaypointFaction": WaypointFaction,
    "WaypointOrbital": WaypointOrbital,
    "WaypointTrait": WaypointTrait,
}

export class ObjectSerializer {
    public static findCorrectType(data: any, expectedType: string) {
        if (data == undefined) {
            return expectedType;
        } else if (primitives.indexOf(expectedType.toLowerCase()) !== -1) {
            return expectedType;
        } else if (expectedType === "Date") {
            return expectedType;
        } else {
            if (enumsMap.has(expectedType)) {
                return expectedType;
            }

            if (!typeMap[expectedType]) {
                return expectedType; // w/e we don't know the type
            }

            // Check the discriminator
            let discriminatorProperty = typeMap[expectedType].discriminator;
            if (discriminatorProperty == null) {
                return expectedType; // the type does not have a discriminator. use it.
            } else {
                if (data[discriminatorProperty]) {
                    var discriminatorType = data[discriminatorProperty];
                    if(typeMap[discriminatorType]){
                        return discriminatorType; // use the type given in the discriminator
                    } else {
                        return expectedType; // discriminator did not map to a type
                    }
                } else {
                    return expectedType; // discriminator was not present (or an empty string)
                }
            }
        }
    }

    public static serialize(data: any, type: string, format: string) {
        if (data == undefined) {
            return data;
        } else if (primitives.indexOf(type.toLowerCase()) !== -1) {
            return data;
        } else if (type.lastIndexOf("Array<", 0) === 0) { // string.startsWith pre es6
            let subType: string = type.replace("Array<", ""); // Array<Type> => Type>
            subType = subType.substring(0, subType.length - 1); // Type> => Type
            let transformedData: any[] = [];
            for (let date of data) {
                transformedData.push(ObjectSerializer.serialize(date, subType, format));
            }
            return transformedData;
        } else if (type === "Date") {
            if (format == "date") {
                let month = data.getMonth()+1
                month = month < 10 ? "0" + month.toString() : month.toString()
                let day = data.getDate();
                day = day < 10 ? "0" + day.toString() : day.toString();

                return data.getFullYear() + "-" + month + "-" + day;
            } else {
                return data.toISOString();
            }
        } else {
            if (enumsMap.has(type)) {
                return data;
            }
            if (!typeMap[type]) { // in case we dont know the type
                return data;
            }

            // Get the actual type of this object
            type = this.findCorrectType(data, type);

            // get the map for the correct type.
            let attributeTypes = typeMap[type].getAttributeTypeMap();
            let instance: {[index: string]: any} = {};
            for (let attributeType of attributeTypes) {
                instance[attributeType.baseName] = ObjectSerializer.serialize(data[attributeType.name], attributeType.type, attributeType.format);
            }
            return instance;
        }
    }

    public static deserialize(data: any, type: string, format: string) {
        // polymorphism may change the actual type.
        type = ObjectSerializer.findCorrectType(data, type);
        if (data == undefined) {
            return data;
        } else if (primitives.indexOf(type.toLowerCase()) !== -1) {
            return data;
        } else if (type.lastIndexOf("Array<", 0) === 0) { // string.startsWith pre es6
            let subType: string = type.replace("Array<", ""); // Array<Type> => Type>
            subType = subType.substring(0, subType.length - 1); // Type> => Type
            let transformedData: any[] = [];
            for (let date of data) {
                transformedData.push(ObjectSerializer.deserialize(date, subType, format));
            }
            return transformedData;
        } else if (type === "Date") {
            return new Date(data);
        } else {
            if (enumsMap.has(type)) {// is Enum
                return data;
            }

            if (!typeMap[type]) { // dont know the type
                return data;
            }
            let instance = new typeMap[type]();
            let attributeTypes = typeMap[type].getAttributeTypeMap();
            for (let attributeType of attributeTypes) {
                let value = ObjectSerializer.deserialize(data[attributeType.baseName], attributeType.type, attributeType.format);
                if (value !== undefined) {
                    instance[attributeType.name] = value;
                }
            }
            return instance;
        }
    }


    /**
     * Normalize media type
     *
     * We currently do not handle any media types attributes, i.e. anything
     * after a semicolon. All content is assumed to be UTF-8 compatible.
     */
    public static normalizeMediaType(mediaType: string | undefined): string | undefined {
        if (mediaType === undefined) {
            return undefined;
        }
        return mediaType.split(";")[0].trim().toLowerCase();
    }

    /**
     * From a list of possible media types, choose the one we can handle best.
     *
     * The order of the given media types does not have any impact on the choice
     * made.
     */
    public static getPreferredMediaType(mediaTypes: Array<string>): string {
        /** According to OAS 3 we should default to json */
        if (!mediaTypes) {
            return "application/json";
        }

        const normalMediaTypes = mediaTypes.map(this.normalizeMediaType);
        let selectedMediaType: string | undefined = undefined;
        let selectedRank: number = -Infinity;
        for (const mediaType of normalMediaTypes) {
            if (supportedMediaTypes[mediaType!] > selectedRank) {
                selectedMediaType = mediaType;
                selectedRank = supportedMediaTypes[mediaType!];
            }
        }

        if (selectedMediaType === undefined) {
            throw new Error("None of the given media types are supported: " + mediaTypes.join(", "));
        }

        return selectedMediaType!;
    }

    /**
     * Convert data to a string according the given media type
     */
    public static stringify(data: any, mediaType: string): string {
        if (mediaType === "text/plain") {
            return String(data);
        }

        if (mediaType === "application/json") {
            return JSON.stringify(data);
        }

        throw new Error("The mediaType " + mediaType + " is not supported by ObjectSerializer.stringify.");
    }

    /**
     * Parse data from a string according to the given media type
     */
    public static parse(rawData: string, mediaType: string | undefined) {
        if (mediaType === undefined) {
            throw new Error("Cannot parse content. No Content-Type defined.");
        }

        if (mediaType === "text/plain") {
            return rawData;
        }

        if (mediaType === "application/json") {
            return JSON.parse(rawData);
        }

        if (mediaType === "text/html") {
            return rawData;
        }

        throw new Error("The mediaType " + mediaType + " is not supported by ObjectSerializer.parse.");
    }
}
